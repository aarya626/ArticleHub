{% load login_extras %}
{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{article.title}}</title>
  <link rel="stylesheet" href="{% static 'css/artilcepage.css' %}">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<body>
  <!-- <header>
        <div class="header-container">
          <a href="#" class="logo">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
              <defs>
                <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                  <stop offset="0%" stop-color="#3f51b5" />
                  <stop offset="100%" stop-color="#2c3e50" />
                </linearGradient>
              </defs>
              <g transform="translate(25, 20)">
                <path d="M25,0 L50,50 L0,50 Z" fill="url(#gradient)" />
                <text x="25" y="35" text-anchor="middle" fill="#fff" font-family="Montserrat, sans-serif" font-size="22" font-weight="700">AH</text>
              </g>
            </svg>
          </a>
          <nav>
            <div class="search-bar">
              <input type="text" placeholder="Search articles..." />
              <button type="submit">
                <i class="fas fa-search"></i>
              </button>
            </div>
            <ul>
              <li><a href="#">Home</a></li>
              <li><a href="#">Articles</a></li>
              <li><a href="#">About</a></li>
              <li><a href="#">Contact</a></li>
            </ul>
          </nav>
        </div>
      </header> -->
      
      <main>
        <article>
          <h6 id="article_id" style="display: none;">{{article.article_id}}</h6>
          <h6 id="checkuser" style="display: none;">{{user}}</h6>
      <h1>{{article.title}}</h1>
      <div class="article-header">
        <div class="author-info">
          <a href="{% url 'profile' article.user.username %}">
          <img src="{{profile}}" alt="Author Avatar">
        </a>
          <div>
            <a href="{% url 'profile' article.user.username %}" style="text-decoration: none;" >
            <h2 >{{author}}</h2>
          </a>
            <p>Published on: {{article.created_at}}</p>

          </div>
        </div>
        <div class="mic">
          <i class="fa fa-microphone"></i>
        </div>
      </div>
      <div class="article-content">
        <p style="white-space: pre-line;">{{article.content | safe }} </p>

      </div>
      <div class="article-actions">
        <button class="like-btn">
          <i class="fa fa-thumbs-up"></i>
          <span class="like-count">{{likes}}</span>
        </button>
        <button class="dislike-btn">
          <i class="fa fa-thumbs-down"></i>
          <span class="dislike-count">{{dislikes}}</span>
        </button>
        <button class="share-btn">
          <i class="fa fa-share-alt"></i>
          Share
        </button>
      </div>
      <div class="comments-list"></div>
      </div>
      <div class="comments-section">
        <h2>Comments</h2>
        <div class="comment-form">
          <textarea placeholder="Add a comment..."></textarea>
          <div>
            <button class="submit-comment">Submit</button>
            <div id="emptyerror"></div>
          </div>
        </div>
        <div class="comments-list">
          <div id="newcomment"></div>
          {% for comment in comments%}
          <div class="comment">
            <img src="{{comment.user.profile}}" class="comment-avatar">
            <div class="comment-details">
              <h3 class="comment-author">{{comment.user.username}}</h3>
              <p class="comment-timestamp">{{comment.created_at|simplify_timesince}}</p>
              <p class="comment-content">{{comment.comment}}</p>
            </div>
          </div>
          {% endfor %}
      </div>
    </div>
    </article>
  </main>
  <!-- <footer>
<p>&copy; 2024 Article Website. All rights reserved.</p>
</footer> -->

  <script src="{% static 'js/articlepage.js'%}"></script>
</body>

</html>